"use strict";(self.webpackChunkconvertor_bl1_62=self.webpackChunkconvertor_bl1_62||[]).push([[264],{264:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var c=t(439),o=new Headers;o.append("apikey","Bqf0jgud3HsN3E435u3LbG7qgqDyjvOj");var a={method:"GET",redirect:"follow",headers:o},r=t(791),u=t(184),s=function(){var e=(0,r.useState)(!1),n=(0,c.Z)(e,2),t=n[0],o=n[1],s=(0,r.useState)(!1),i=(0,c.Z)(s,2),l=i[0],d=i[1],f=(0,r.useState)("USD"),h=(0,c.Z)(f,2),p=h[0],g=h[1];(0,r.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var n,t,c=e.coords;(n=c.latitude,t=c.longitude,fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(n,"+").concat(t,"&key=").concat("d4683b09d0c94ec0aebf0b2e043decbf","&language=en")).then((function(e){return e.json()}))).then((function(e){console.log(e),g(e.results[0].annotations.currency.iso_code)}))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}));return(0,u.jsxs)("div",{className:"HomeWrapper",children:[(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n,t,c,r=e.target.elements.currency.value.split(" ");console.log(r),o(!0),(n=r[0],t=r[1],c=r[3],fetch("https://api.apilayer.com/exchangerates_data/convert?to=".concat(c,"&from=").concat(t,"&amount=").concat(n),a).then((function(e){return e.json()}))).then((function(e){return d(e)})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)})),console.log(l)},children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{pattern:"^\\d+(\\.\\d+)?\\s+\\w+\\s+in\\s+\\w+$",type:"text",name:"currency",title:"10 usd in uah",defaultValue:"1 usd in uah"})}),(0,u.jsx)("button",{disabled:t,type:"submit",children:t?"loading...":"change"})]}),(0,u.jsx)("p",{children:(0,u.jsx)("b",{children:l.result})}),(0,u.jsxs)("p",{children:["Our currency ",p]})]})}}}]);
//# sourceMappingURL=264.f818f0de.chunk.js.map