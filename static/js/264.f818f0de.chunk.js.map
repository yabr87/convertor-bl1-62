{"version":3,"file":"static/js/264.f818f0de.chunk.js","mappings":"kLAMIA,EAAY,IAAIC,QACpBD,EAAUE,OAAO,SAAU,oCAE3B,IAAIC,EAAiB,CACnBC,OAAQ,MACRC,SAAU,SACVC,QAASN,G,kBCVX,ECCa,WACX,OAA8BO,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,WAAS,GAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,OAAzC,eAAOK,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,WAyBRC,UAAUC,YAAYC,oBAlBtB,SAAiBC,GACf,IFMsBC,EAAKC,EENrBC,EAAMH,EAAII,QFMMH,EECVE,EAAIE,SFDWH,EECDC,EAAIG,UFE3BC,MAAM,kDAAD,OACwCN,EADxC,YAC+CC,EAD/C,gBAFG,mCAEH,iBAEVM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,KEJ8BF,MAAK,SAAAG,GAC5CC,QAAQC,IAAIF,GACZhB,EAAYgB,EAAKG,QAAQ,GAAGC,YAAYrB,SAASsB,SAClD,GACF,IAED,SAAeC,GACbL,QAAQM,KAAR,gBAAsBD,EAAIE,KAA1B,cAAoCF,EAAIG,SACzC,GAtBe,CACdC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,GAuBf,IAeD,OACE,iBAAKC,UAAU,cAAf,WACE,kBAAMC,SAfW,SAAAC,GACnBA,EAAEC,iBACF,IFxB2BC,EAAQC,EAAMC,EEwBnCnB,EAAOe,EAAEK,OAAOC,SAAStC,SAASuC,MAAMC,MAAM,KAEpDtB,QAAQC,IAAIF,GACZpB,GAAW,IF3BgBqC,EE4BZjB,EAAK,GF5BekB,EE4BXlB,EAAK,GF5BYmB,EE4BRnB,EAAK,GF3BjCJ,MAAM,0DAAD,OACgDuB,EADhD,iBAC2DD,EAD3D,mBAC0ED,GACpF3C,GACAuB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,KEyBVF,MAAK,SAAAhB,GAAM,OAAIC,EAAUD,EAAd,IACX2C,OAAM,SAAAC,GAAK,OAAIxB,QAAQC,IAAIuB,EAAhB,IACXC,SAAQ,kBAAM9C,GAAW,EAAjB,IAEXqB,QAAQC,IAAIrB,EACb,EAGG,WACE,4BACE,kBACE8C,QAAQ,yCACRC,KAAK,OACLC,KAAK,WACLC,MAAM,gBACNC,aAAa,oBAGjB,mBAAQC,SAAUrD,EAASiD,KAAK,SAAhC,SACGjD,EAAU,aAAe,eAG9B,wBACE,uBAAIE,EAAOA,YAEb,yCAAiBE,OAGtB,C","sources":["api/api.js","components/Home/index.js","components/Home/Home.jsx"],"sourcesContent":["// import axios from 'axios';\n\n// const instance = axios.create({\n//   baseURL: 'https://api.exchangeratesapi.io/v1/',\n// });\n\nvar myHeaders = new Headers();\nmyHeaders.append('apikey', 'Bqf0jgud3HsN3E435u3LbG7qgqDyjvOj');\n\nvar requestOptions = {\n  method: 'GET',\n  redirect: 'follow',\n  headers: myHeaders,\n};\n\nexport const changeCurrency = (amount, from, to) => {\n  return fetch(\n    `https://api.apilayer.com/exchangerates_data/convert?to=${to}&from=${from}&amount=${amount}`,\n    requestOptions\n  ).then(response => response.json());\n};\n\nexport const getCurrency = (lat, long) => {\n  const apiKey = 'd4683b09d0c94ec0aebf0b2e043decbf';\n\n  return fetch(\n    `https://api.opencagedata.com/geocode/v1/json?q=${lat}+${long}&key=${apiKey}&language=en`\n  ).then(response => response.json());\n};\n","import Home from './Home';\n\nexport default Home;\n","import { changeCurrency, getCurrency } from 'api/api';\nimport { useState, useEffect } from 'react';\n\nconst Home = () => {\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(false);\n  const [currency, setCurrency] = useState('USD');\n\n  useEffect(() => {\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    function success(pos) {\n      const crd = pos.coords;\n\n      // console.log('Your current position is:');\n      // console.log(`Latitude : ${crd.latitude}`);\n      // console.log(`Longitude: ${crd.longitude}`);\n      // console.log(`More or less ${crd.accuracy} meters.`);\n\n      getCurrency(crd.latitude, crd.longitude).then(data => {\n        console.log(data);\n        setCurrency(data.results[0].annotations.currency.iso_code);\n      });\n    }\n\n    function error(err) {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    }\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n    // console.log(position);\n  });\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const data = e.target.elements.currency.value.split(' ');\n\n    console.log(data);\n    setLoading(true);\n    changeCurrency(data[0], data[1], data[3])\n      .then(result => setResult(result))\n      .catch(error => console.log(error))\n      .finally(() => setLoading(false));\n\n    console.log(result);\n  };\n  return (\n    <div className=\"HomeWrapper\">\n      <form onSubmit={onFormSubmit}>\n        <label>\n          <input\n            pattern=\"^\\d+(\\.\\d+)?\\s+\\w+\\s+in\\s+\\w+$\"\n            type=\"text\"\n            name=\"currency\"\n            title=\"10 usd in uah\"\n            defaultValue=\"1 usd in uah\"\n          />\n        </label>\n        <button disabled={loading} type=\"submit\">\n          {loading ? 'loading...' : 'change'}\n        </button>\n      </form>\n      <p>\n        <b>{result.result}</b>\n      </p>\n      <p>Our currency {currency}</p>\n    </div>\n  );\n};\nexport default Home;\n"],"names":["myHeaders","Headers","append","requestOptions","method","redirect","headers","useState","loading","setLoading","result","setResult","currency","setCurrency","useEffect","navigator","geolocation","getCurrentPosition","pos","lat","long","crd","coords","latitude","longitude","fetch","then","response","json","data","console","log","results","annotations","iso_code","err","warn","code","message","enableHighAccuracy","timeout","maximumAge","className","onSubmit","e","preventDefault","amount","from","to","target","elements","value","split","catch","error","finally","pattern","type","name","title","defaultValue","disabled"],"sourceRoot":""}